<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Fri Apr 03 04:28:35 BST 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>KeyContext (OpenHFT/Chronicle-Map 3.0.0-alpha-SNAPSHOT API)</title>
<meta name="date" content="2015-04-03">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KeyContext (OpenHFT/Chronicle-Map 3.0.0-alpha-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KeyContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/openhft/chronicle/hash/ChronicleHashStatelessClientBuilder.html" title="interface in net.openhft.chronicle.hash"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/openhft/chronicle/hash/RemoteCallTimeoutException.html" title="class in net.openhft.chronicle.hash"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/openhft/chronicle/hash/KeyContext.html" target="_top">Frames</a></li>
<li><a href="KeyContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.openhft.chronicle.hash</div>
<h2 title="Interface KeyContext" class="title">Interface KeyContext&lt;K&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>K</code> - key type</dd>
</dl>
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html" title="interface in net.openhft.chronicle.hash.locks">InterProcessReadWriteUpdateLock</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReadWriteLock.html?is-external=true" title="class or interface in java.util.concurrent.locks">ReadWriteLock</a></dd>
</dl>
<dl>
<dt>All Known Subinterfaces:</dt>
<dd><a href="../../../../net/openhft/chronicle/map/MapKeyContext.html" title="interface in net.openhft.chronicle.map">MapKeyContext</a>&lt;K,V&gt;</dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../net/openhft/chronicle/hash/impl/HashContext.html" title="class in net.openhft.chronicle.hash.impl">HashContext</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">KeyContext&lt;K&gt;</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a>, <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html" title="interface in net.openhft.chronicle.hash.locks">InterProcessReadWriteUpdateLock</a></pre>
<div class="block">Common considerations:
 <ul>
     <li>All method throw <a href="http://docs.oracle.com/javase/7/docs/api/java/util/ConcurrentModificationException.html?is-external=true" title="class or interface in java.util"><code>ConcurrentModificationException</code></a> immediately, if called not from
     the thread, in which the context was obtained. <code>KeyContext</code> is strictly
     for single-thread access. For single try-with-resources block, actually, because:</li>
     <li>All methods throw <code>IllegalStateException</code> immediately, if called after
     <a href="../../../../net/openhft/chronicle/hash/KeyContext.html#close--"><code>close()</code></a> called on this context and returned.</li>
 </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/openhft/chronicle/hash/KeyContext.html#close--">close</a></span>()</code>
<div class="block">Closes the context.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/openhft/chronicle/hash/KeyContext.html#containsKey--">containsKey</a></span>()</code>
<div class="block">Checks if the key is present in the hash.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="http://openhft.github.io/Java-Lang/apidocs/net/openhft/lang/io/Bytes.html?is-external=true" title="class or interface in net.openhft.lang.io">Bytes</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/openhft/chronicle/hash/KeyContext.html#entry--">entry</a></span>()</code>
<div class="block">Returns the entry bytes, if the key is present in the hash, otherwise throws
 <code>IllegalStateException</code>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../net/openhft/chronicle/hash/KeyContext.html" title="type parameter in KeyContext">K</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/openhft/chronicle/hash/KeyContext.html#key--">key</a></span>()</code>
<div class="block">Returns the key object of this context.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/openhft/chronicle/hash/KeyContext.html#keyOffset--">keyOffset</a></span>()</code>
<div class="block">Returns the offset of the key bytes within the <a href="../../../../net/openhft/chronicle/hash/KeyContext.html#entry--"><code>entry()</code></a>, if the key is present
 in the hash, otherwise throws <code>IllegalStateException</code>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/openhft/chronicle/hash/KeyContext.html#keySize--">keySize</a></span>()</code>
<div class="block">Returns the size of the key bytes representation.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../net/openhft/chronicle/hash/KeyContext.html#remove--">remove</a></span>()</code>
<div class="block">Removes the key from the hash.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.net.openhft.chronicle.hash.locks.InterProcessReadWriteUpdateLock">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;net.openhft.chronicle.hash.locks.<a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html" title="interface in net.openhft.chronicle.hash.locks">InterProcessReadWriteUpdateLock</a></h3>
<code><a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#readLock--">readLock</a>, <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#updateLock--">updateLock</a>, <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#writeLock--">writeLock</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="key--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>key</h4>
<pre>@NotNull
<a href="../../../../net/openhft/chronicle/hash/KeyContext.html" title="type parameter in KeyContext">K</a>&nbsp;key()</pre>
<div class="block">Returns the key object of this context. The instance might be reused, so you shouldn't
 save the returned object and use it after the context is closed or the callback (to which
 this context is provided) return. Might acquire <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#readLock--"><code>InterProcessReadWriteUpdateLock.readLock()</code></a> before reading the key,
 if the context is not locked yet.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the key object of this context</dd>
</dl>
</li>
</ul>
<a name="entry--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>entry</h4>
<pre>@NotNull
<a href="http://openhft.github.io/Java-Lang/apidocs/net/openhft/lang/io/Bytes.html?is-external=true" title="class or interface in net.openhft.lang.io">Bytes</a>&nbsp;entry()</pre>
<div class="block">Returns the entry bytes, if the key is present in the hash, otherwise throws
 <code>IllegalStateException</code>. Might acquire <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#readLock--"><code>InterProcessReadWriteUpdateLock.readLock()</code></a> before searching for
 the entry, if the context is not locked yet.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the entry bytes</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the hash doesn't <a href="../../../../net/openhft/chronicle/hash/KeyContext.html#containsKey--"><code>containsKey()</code></a></dd>
</dl>
</li>
</ul>
<a name="keyOffset--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyOffset</h4>
<pre>long&nbsp;keyOffset()</pre>
<div class="block">Returns the offset of the key bytes within the <a href="../../../../net/openhft/chronicle/hash/KeyContext.html#entry--"><code>entry()</code></a>, if the key is present
 in the hash, otherwise throws <code>IllegalStateException</code>. Might acquire <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#readLock--"><code>InterProcessReadWriteUpdateLock.readLock()</code></a>
 before searching for the entry, if the context is not locked yet.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the offset of the key bytes within the <a href="../../../../net/openhft/chronicle/hash/KeyContext.html#entry--"><code>entry()</code></a></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the hash doesn't <a href="../../../../net/openhft/chronicle/hash/KeyContext.html#containsKey--"><code>containsKey()</code></a></dd>
</dl>
</li>
</ul>
<a name="keySize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keySize</h4>
<pre>long&nbsp;keySize()</pre>
<div class="block">Returns the size of the key bytes representation. Bytes from <a href="../../../../net/openhft/chronicle/hash/KeyContext.html#keyOffset--"><code>keyOffset()</code></a> to
 <code>keyOffset + keySize</code> are the key bytes in the <a href="../../../../net/openhft/chronicle/hash/KeyContext.html#entry--"><code>entry()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size of the key bytes representation</dd>
</dl>
</li>
</ul>
<a name="containsKey--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsKey</h4>
<pre>boolean&nbsp;containsKey()</pre>
<div class="block">Checks if the key is present in the hash. Might acquire <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#readLock--"><code>InterProcessReadWriteUpdateLock.readLock()</code></a> before searching
 for the key, if the context is not locked yet.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the key is present in the hash, <code>false</code> otherwise</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if at least <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#readLock--"><code>InterProcessReadWriteUpdateLock.readLock()</code></a> is not held</dd>
</dl>
</li>
</ul>
<a name="remove--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>boolean&nbsp;remove()</pre>
<div class="block">Removes the key from the hash. Might acquire <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#updateLock--"><code>InterProcessReadWriteUpdateLock.updateLock()</code></a> or <a href="../../../../net/openhft/chronicle/hash/locks/InterProcessReadWriteUpdateLock.html#writeLock--"><code>InterProcessReadWriteUpdateLock.writeLock()</code></a>,
 if the context is not locked yet. Might upgrade from update to write lock, if update lock
 is already held.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the key was actually removed (hash was updated),
 <code>false</code> if the key is already absent in the hash</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</a></code> - if the context is locked for read, but not for update, and
 update or write lock is actually required for <code>remove()</code> in this <code>KeyContext</code>
 implementation</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;close()</pre>
<div class="block">Closes the context. Among other things, it releases all locks, acquired within the context,
 that means you shouldn't bother with unlocking and try-finally pattern, if the whole
 context operation if performed within try-with-resources block: <pre><code>
 try (KeyContext c = map.context(key)) {
     c.writeLock().lock();
     if (random.nextBoolean())
         c.remove();
     // Note, there is no c.writeLock().unlock(), and it's OK,
     // because all locks are released in close()
 }</code></pre></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KeyContext.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/openhft/chronicle/hash/ChronicleHashStatelessClientBuilder.html" title="interface in net.openhft.chronicle.hash"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../net/openhft/chronicle/hash/RemoteCallTimeoutException.html" title="class in net.openhft.chronicle.hash"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/openhft/chronicle/hash/KeyContext.html" target="_top">Frames</a></li>
<li><a href="KeyContext.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>